import{d as v,u as V,r as i,c as b,e as a,j as l,h as r,i as P,y as C,k as f,q as I,z as R,A as k,a as S,_ as U}from"./index-dfca81a1.js";const N=n=>(R("data-v-a71abdf4"),n=n(),k(),n),q={class:"login-container"},B=N(()=>S("h2",null,"用户登录",-1)),E=v({name:"Login"}),z=v({...E,setup(n){const w=V(),_=I(),m=i(),c=i(!1),t=i({username:"zhangsan",userPwd:"123456"}),g={username:[{required:!0,validator:(s,e,o)=>{e.length<4?o(new Error("用户名长度不能小于4位")):o()}}],userPwd:[{required:!0,trigger:"blur",validator:(s,e,o)=>{e.length<6?o(new Error("密码长度不能小于6位")):o()}}]},h=async()=>{var s;await((s=m.value)==null?void 0:s.validate()),c.value=!0;try{await w.login(t.value),_.push({name:"HeadlineNews"})}finally{c.value=!1}},y=()=>{_.push({name:"Register"})};return(s,e)=>{const o=r("el-input"),u=r("el-form-item"),p=r("el-button"),x=r("el-form");return P(),b("div",q,[a(x,{model:t.value,ref_key:"formRef",ref:m,"label-width":"80px",class:"login-form",rules:g},{default:l(()=>[B,a(u,{label:"用户名",prop:"username"},{default:l(()=>[a(o,{modelValue:t.value.username,"onUpdate:modelValue":e[0]||(e[0]=d=>t.value.username=d),ref:"username",name:"username",autocomplete:"off",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),a(u,{label:"密码",prop:"userPwd"},{default:l(()=>[a(o,{type:"password",modelValue:t.value.userPwd,"onUpdate:modelValue":e[1]||(e[1]=d=>t.value.userPwd=d),autocomplete:"off",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),a(u,null,{default:l(()=>[a(p,{type:"success",onClick:C(h,["prevent"])},{default:l(()=>[f("登录")]),_:1},8,["onClick"]),a(p,{type:"primary",onClick:y},{default:l(()=>[f("注册")]),_:1})]),_:1})]),_:1},8,["model"])])}}});const H=U(z,[["__scopeId","data-v-a71abdf4"]]);export{H as default};
