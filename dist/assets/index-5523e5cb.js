import{d as _,r as p,c as k,e as o,j as l,h as i,i as h,k as c,q as y,B as x,C,E as f,z as b,A as E,a as U,_ as q}from"./index-dfca81a1.js";const R=u=>(b("data-v-6821e000"),u=u(),E(),u),B={class:"register-container"},F=R(()=>U("h2",null,"用户注册",-1)),I=_({name:"Register"}),A=_({...I,setup(u){const v=y(),a=p({username:"",userPwd:"",confirmPassword:"",nickName:""}),d=p(),w={nickName:[{required:!0,trigger:"blur",validator:(s,r,e)=>{r.length>=2&&r.length<=6?e():e(new Error("姓名必须在2-6位"))}}],username:[{required:!0,validator:(s,r,e)=>{r.length<4?e(new Error("用户名长度不能小于4位")):e()}}],userPwd:[{required:!0,trigger:"blur",validator:(s,r,e)=>{r.length<6?e(new Error("密码长度不能小于6位")):e()}}],confirmPassword:[{required:!0,trigger:"blur",validator:(s,r,e)=>{r.length<6?e(new Error("密码长度不能小于6位")):e()}}]},g=async()=>{var s,r;if(await((s=d.value)==null?void 0:s.validate()),a.value.userPwd==a.value.confirmPassword){await x(a.value.username);const e={username:"",userPwd:"",nickName:""};e.username=a.value.username,e.userPwd=a.value.userPwd,e.nickName=a.value.nickName,await C(e),(r=d.value)==null||r.resetFields(),f.success("注册成功")}else return f.error("密码和确定密码必须一致")},P=()=>{v.push({path:"/login"})},N=()=>{var s;(s=d.value)==null||s.resetFields()};return(s,r)=>{const e=i("el-input"),n=i("el-form-item"),m=i("el-button"),V=i("el-form");return h(),k("div",B,[o(V,{model:a.value,ref_key:"formRef",ref:d,"label-width":"80px",class:"register-form",rules:w},{default:l(()=>[F,o(n,{label:"姓名",prop:"nickName"},{default:l(()=>[o(e,{modelValue:a.value.nickName,"onUpdate:modelValue":r[0]||(r[0]=t=>a.value.nickName=t),autocomplete:"off",ref:"nickName",name:"nickName",placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),o(n,{label:"用户名",prop:"username"},{default:l(()=>[o(e,{modelValue:a.value.username,"onUpdate:modelValue":r[1]||(r[1]=t=>a.value.username=t),autocomplete:"off",ref:"username",name:"username",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码",prop:"userPwd"},{default:l(()=>[o(e,{type:"password",modelValue:a.value.userPwd,"onUpdate:modelValue":r[2]||(r[2]=t=>a.value.userPwd=t),ref:"userPwd",name:"userPwd",autocomplete:"off",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(n,{label:"确认密码",prop:"confirmPassword"},{default:l(()=>[o(e,{type:"password",modelValue:a.value.confirmPassword,"onUpdate:modelValue":r[3]||(r[3]=t=>a.value.confirmPassword=t),autocomplete:"off",ref:"confirmPassword",name:"confirmPassword",placeholder:"请确认密码"},null,8,["modelValue"])]),_:1}),o(n,null,{default:l(()=>[o(m,{type:"primary",onClick:g},{default:l(()=>[c("注册")]),_:1}),o(m,{type:"danger",onClick:N},{default:l(()=>[c("重置")]),_:1}),o(m,{type:"success",onClick:P},{default:l(()=>[c("去登录")]),_:1})]),_:1})]),_:1},8,["model"])])}}});const T=q(A,[["__scopeId","data-v-6821e000"]]);export{T as default};
